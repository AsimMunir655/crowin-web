{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","config/buildFormData.js","views/pages/Profile/Profile.js"],"names":["_arrayLikeToArray","arr","len","length","i","arr2","Array","_slicedToArray","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","err","o","minLen","n","prototype","toString","call","slice","constructor","name","from","test","TypeError","buildFormData","formData","data","parentKey","Date","File","append","keys","forEach","key","ViewConsultation","match","useState","setFormData","setErrors","submit","setSubmit","image","setImage","imagePreview","setImagePreview","useQuery","retry","retryDelay","refetchOnWindowFocus","isLoading","item","user","formdata","FormData","updateProfileFun","useMutation","updateProfile","onSuccess","val","context","Swal","fire","position","icon","title","showConfirmButton","timer","history","useEffect","firstName","lastName","phoneNumber","validate","errors","password","confirmPassword","rePassword","onSubmit","e","a","preventDefault","mutate","className","onChange","target","md","type","disabled","email","style","marginTop","accept","id","files","URL","createObjectURL","rounded","thumbnail","src","profilePicture","width","height","color","variant","shape","onClick"],"mappings":"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","file":"static/js/8.b821764c.chunk.js","sourcesContent":["export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export function buildFormData(formData, data, parentKey) {\n  if (\n    data &&\n    typeof data === \"object\" &&\n    !(data instanceof Date) &&\n    !(data instanceof File)\n  ) {\n    Object.keys(data).forEach((key) => {\n      buildFormData(\n        formData,\n        data[key],\n        parentKey ? `${parentKey}[${key}]` : key\n      );\n    });\n  } else {\n    const value = data == null ? \"\" : data;\n\n    formData.append(parentKey, value);\n  }\n}\n","import { CButton, CCol, CForm, CFormText, CInput, CImg } from \"@coreui/react\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport LoadingComponent from \"../../../containers/LoadingComponent\";\nimport { useQuery, useMutation } from \"react-query\";\nimport { buildFormData } from \"../../../config/buildFormData\";\nimport Swal from \"sweetalert2\";\nimport { updateProfile } from \"../../../api/APIFunctions\";\nimport history from \"../../../config/history\";\n\nexport default function ViewConsultation({ match }) {\n  const [formData, setFormData] = useState({});\n  const [errors, setErrors] = useState({});\n  const [submit, setSubmit] = useState(false);\n  const [image, setImage] = useState();\n  const [imagePreview, setImagePreview] = useState();\n\n  const { data, isLoading } = useQuery(\"myProfile\", {\n    retry: 1,\n    retryDelay: 500,\n    refetchOnWindowFocus: false,\n    // onSuccess: (data) => {\n\n    // },\n  });\n\n  const item = data?.data?.user;\n\n  const onFileChange = (e) => {\n    setImage(e.target.files[0]);\n    e.target.files.length > 0 &&\n      setImagePreview(URL.createObjectURL(e.target.files[0]));\n  };\n  let formdata = new FormData();\n  buildFormData(formdata, formData);\n  formdata.append(\"image\", image);\n\n  const updateProfileFun = useMutation(updateProfile, {\n    onSuccess: (data, val, context) => {\n      Swal.fire({\n        position: \"center\",\n        icon: \"success\",\n        title: \"Profile Updated\",\n        showConfirmButton: false,\n        timer: 2000,\n      });\n      setFormData({});\n      setSubmit(false);\n      setErrors({});\n      history.push(\"/admin/profile\");\n    },\n  });\n  useEffect(() => {\n    setFormData({\n      ...formData,\n      firstName: data?.data?.user?.firstName,\n      lastName: data?.data?.user?.lastName,\n      phoneNumber: data?.data?.user?.phoneNumber,\n    });\n    submit && validate();\n    return () => {};\n  }, [submit]);\n\n  const validate = () => {\n    let errors = {};\n    const { password, confirmPassword } = formData;\n    if (password !== confirmPassword)\n      errors.rePassword = \"confirm password is not matched\";\n\n    setErrors(errors);\n    return Object.keys(errors).length;\n  };\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    setSubmit(true);\n    const valid = validate();\n    if (valid > 0) return;\n    updateProfileFun.mutate(formData);\n  };\n\n  return (\n    <>\n      {isLoading && <LoadingComponent />}\n      {isLoading || (\n        <div className=\"bg-white textBlack p-3 \">\n          <div className=\"textBlack\">\n            <h2 className=\"text-center py-3\">My Profile</h2>\n            <CForm\n              className=\"row g-3\"\n              onChange={({ target: { name, value } }) => {\n                setFormData({ ...formData, [name]: value });\n              }}\n            >\n              <CCol md={6}>\n                <CFormText>First Name</CFormText>\n                <CInput\n                  name={\"firstName\"}\n                  type=\"text\"\n                  value={formData?.firstName}\n                />\n              </CCol>\n              <CCol md={6}>\n                <CFormText>Last Name</CFormText>\n                <CInput\n                  name={\"lastName\"}\n                  type=\"text\"\n                  value={formData?.lastName}\n                />\n              </CCol>\n              <CCol md={6}>\n                <CFormText>Email</CFormText>\n                <CInput disabled type=\"text\" value={item?.email} />\n              </CCol>\n              <br />\n              <CCol md={6}>\n                <CFormText>Phone Number</CFormText>\n                <CInput\n                  name={\"phoneNumber\"}\n                  type=\"text\"\n                  value={formData?.phoneNumber}\n                />\n              </CCol>\n              <CCol md={6}>\n                <CFormText>Password</CFormText>\n                <CInput name={\"password\"} type=\"password\" />\n              </CCol>\n              <CCol md={6}>\n                <CFormText>Confirm Password</CFormText>\n                <CInput name={\"confirmPassword\"} type=\"password\" />\n              </CCol>\n              <CCol style={{ marginTop: \"10px\" }} md={12}>\n                <div className=\"mb-3\">\n                  <CInput\n                    accept=\"images/*\"\n                    type=\"file\"\n                    id=\"formFile\"\n                    onChange={onFileChange}\n                  />\n                </div>\n              </CCol>\n              <CCol style={{ marginTop: \"10px\" }} md={12}>\n                <CImg\n                  rounded\n                  thumbnail\n                  src={\n                    imagePreview\n                      ? imagePreview\n                      : `https://crowin-backend.herokuapp.com/${item?.profilePicture}`\n                  }\n                  width={200}\n                  height={200}\n                />\n              </CCol>\n\n              <CCol md={2}>\n                <CButton\n                  className=\"mt-3\"\n                  color=\"primary\"\n                  variant=\"outline\"\n                  shape=\"pill\"\n                  type=\"button\"\n                  onClick={onSubmit}\n                >\n                  Update Profile\n                </CButton>\n              </CCol>\n            </CForm>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n"],"sourceRoot":""}