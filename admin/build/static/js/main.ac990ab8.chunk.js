(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[2],{113:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return h}));var a=n(83),i=n.n(a),r=n(143),c=n(114),o=n.n(c),l=n(64),s=n(70),u=n(25),d=n(151),p=function(e){return function(){var t=Object(r.a)(i.a.mark((function t(n){var a,r,c,p,b,h,m;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:u.f}),t.next=4,Object(d.a)(e);case 4:a=t.sent,r=a.data,c=r.user,p=r.token,localStorage.setItem("adminToken",p),Object(l.b)(p),"admin"===(null===c||void 0===c?void 0:c.role)?(n({type:u.g,payload:c}),s.a.push("/admin/dashboard"),o.a.fire({position:"center",icon:"success",title:"Authentication Successfull !",showConfirmButton:!1,timer:2e3})):(n({type:u.e,payload:"Not Authorized"}),s.a.push("/admin/login"),o.a.fire({position:"center",icon:"error",title:"Authentication Failed !",showConfirmButton:!1,timer:2e3})),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0),n({type:u.e,payload:null===(b=t.t0.response)||void 0===b?void 0:b.data}),o.a.fire({position:"top-end",icon:"error",title:"Authentication Failed !",text:null===t.t0||void 0===t.t0||null===(h=t.t0.response)||void 0===h||null===(m=h.data)||void 0===m?void 0:m.message,showConfirmButton:!1,timer:2e3});case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},b=function(){return function(){var e=Object(r.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:u.c}),e.next=4,Object(d.c)();case 4:n=e.sent,t({type:u.d,payload:n.data}),"admin"===n.data.user.role&&s.a.push("/admin/dashboard"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),t({type:u.b});case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},h=function(){return function(){var e=Object(r.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=localStorage.getItem("adminToken");try{n&&localStorage.removeItem("adminToken"),t({type:u.i})}catch(a){t({type:u.h}),o.a.fire({position:"top-end",icon:"error",title:"Logout Failed",showConfirmButton:!1,timer:2e3})}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},151:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return s}));var a=n(22),i=n(64),r={headers:{"x-access-token":localStorage.getItem("adminToken")}},c=function(e){return i.a.post("/auth/admin-login",Object(a.a)({},e))},o=function(){return i.a.get("/admin/my-profile",r)},l=function(e){return console.log(e),i.a.patch("/admin/update-profile",e,r)},s=function(){return i.a.get("/admin/patients-list",r)}},25:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return i})),n.d(t,"e",(function(){return r})),n.d(t,"k",(function(){return c})),n.d(t,"l",(function(){return o})),n.d(t,"j",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"h",(function(){return b})),n.d(t,"a",(function(){return h}));var a="LOGIN_REQUEST",i="LOGIN_SUCCESS",r="LOGIN_FAIL",c="REGISTER_USER_REQUEST",o="REGISTER_USER_SUCCESS",l="REGISTER_USER_FAIL",s="LOAD_USER_REQUEST",u="LOAD_USER_SUCCESS",d="LOAD_USER_FAIL",p="LOGOUT_USER_SUCCESS",b="LOGOUT_USER_FAIL",h="CLEAR_ERRORS"},564:function(e,t){!function(){if("function"===typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}(),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(Element.prototype.matches.call(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null})},592:function(e,t,n){},593:function(e,t,n){},598:function(e,t,n){"use strict";n.r(t);n(152),n(163),n(164),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(215),n(217),n(218),n(219),n(220),n(221),n(223),n(178),n(226),n(104),n(229),n(230),n(231),n(232),n(233),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(184),n(124),n(244),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(187),n(262),n(263),n(264),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(274),n(276),n(278),n(279),n(280),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(190),n(298),n(299),n(305),n(306),n(307),n(308),n(309),n(310),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(192),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(135),n(329),n(330),n(333),n(334),n(335),n(336),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(375),n(376),n(377),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(139),n(398),n(462),n(468),n(469),n(470),n(471),n(472),n(474),n(475),n(476),n(477),n(478),n(479),n(480),n(481),n(483),n(484),n(485),n(486),n(487),n(488),n(489),n(490),n(491),n(492),n(493),n(494),n(495),n(496),n(497),n(498),n(499),n(500),n(501),n(502),n(503),n(504),n(505),n(506),n(507),n(509),n(511),n(512),n(513),n(514),n(515),n(517),n(518),n(519),n(520),n(521),n(522),n(523),n(524),n(525),n(526),n(527),n(528),n(529),n(530),n(531),n(532),n(533),n(534),n(535),n(536),n(537),n(538),n(539),n(540),n(541),n(542),n(544),n(402),n(403),n(404),n(546),n(547),n(548),n(549),n(550),n(551),n(552),n(405),n(198),n(408),n(409),n(410),n(412),n(199),n(555),n(560),n(564);var a=n(1),i=n.n(a),r=n(69),c=n.n(r),o=n(22),l=n(432),s=n(115),u=n(601),d=n(436),p=n(64),b=n(70),h=n(434),m=n(435),f=function(){function e(t){var n=t.timeout,a=t.onTimeout,i=t.onExpired;Object(h.a)(this,e),this.timeout=n,this.onTimeout=a;var r=parseInt(localStorage.getItem("_expiredTime"),10);r>0&&r<Date.now()?i():(this.eventHandler=this.updateExpiredTime.bind(this),this.tracker(),this.startInterval())}return Object(m.a)(e,[{key:"startInterval",value:function(){var e=this;this.updateExpiredTime(),this.interval=setInterval((function(){parseInt(localStorage.getItem("_expiredTime"),10)<Date.now()&&e.onTimeout&&(e.onTimeout(),e.cleanUp())}),1e3)}},{key:"updateExpiredTime",value:function(){var e=this;this.timeoutTracker&&clearTimeout(this.timeoutTracker),this.timeoutTracker=setTimeout((function(){localStorage.setItem("_expiredTime",Date.now()+1e3*e.timeout)}),300)}},{key:"tracker",value:function(){window.addEventListener("mousemove",this.eventHandler),window.addEventListener("scroll",this.eventHandler),window.addEventListener("keydown",this.eventHandler)}},{key:"cleanUp",value:function(){localStorage.removeItem("_expiredTime"),clearInterval(this.interval),window.removeEventListener("mousemove",this.eventHandler),window.removeEventListener("scroll",this.eventHandler),window.removeEventListener("keydown",this.eventHandler)}}]),e}(),v=n(113),g=(n(592),n(593),n(34)),O=Object(g.jsx)("div",{className:"pt-3 text-center",children:Object(g.jsx)("div",{className:"sk-spinner sk-spinner-pulse"})}),E=i.a.lazy((function(){return Promise.all([n.e(0),n.e(5),n.e(7)]).then(n.bind(null,789))})),j=i.a.lazy((function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,782))}));var S=function(){d.a.configure();var e=localStorage.adminToken,t=Object(s.c)();if(e){var n=Object(l.a)(e),r=Date.now()/1e3;n.exp<r&&(localStorage.removeItem("adminToken"),t(Object(v.c)()),b.a.push("/login")),Object(p.b)(e),t(Object(v.b)())}else t(Object(v.b)());return Object(a.useEffect)((function(){var e=new f({timeout:1200,onTimeout:function(){localStorage.removeItem("jwtToken"),t(Object(v.c)()),b.a.push("/login")},onExpired:function(){console.log("expire")}});return function(){e.cleanUp()}}),[t]),Object(g.jsx)(u.c,{forceRefresh:!0,history:b.a,basename:"/index.html",children:Object(g.jsx)(i.a.Suspense,{fallback:O,children:Object(g.jsxs)(u.d,{children:[Object(g.jsx)(u.b,{exact:!0,path:"/admin/login",name:"Login Page",render:function(e){return Object(g.jsx)(j,Object(o.a)({},e))}}),Object(g.jsx)(u.b,{path:"/",name:"Home",render:function(e){return Object(g.jsx)(E,Object(o.a)({},e))}})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var w=n(604),y=n(605),k=n(606),C=n(607),T=n(608),x=n(609),I=n(610),L=n(611),A=n(612),_=n(613),R=n(614),U=n(615),P=n(616),B=n(617),F=n(618),D=n(619),G=n(620),N=n(621),H=n(622),M=n(623),z=n(624),Q=n(625),X=n(626),J=n(627),V=n(628),W=n(629),Y=n(630),q=n(631),$=n(632),K=n(633),Z=n(634),ee=n(635),te=n(636),ne=n(637),ae=n(638),ie=n(639),re=n(640),ce=n(641),oe=n(642),le=n(643),se=n(644),ue=n(645),de=n(646),pe=n(647),be=n(648),he=n(649),me=n(650),fe=n(651),ve=n(652),ge=n(653),Oe=n(654),Ee=n(655),je=n(656),Se=n(657),we=n(658),ye=n(659),ke=n(660),Ce=n(661),Te=n(662),xe=n(663),Ie=n(664),Le=n(665),Ae=n(666),_e=n(667),Re=n(668),Ue=n(669),Pe=n(670),Be=n(671),Fe=n(672),De=n(673),Ge=n(674),Ne=n(675),He=n(676),Me=n(677),ze=n(678),Qe=n(679),Xe=n(680),Je=n(681),Ve=n(682),We=n(683),Ye=n(684),qe=n(685),$e=n(686),Ke=n(687),Ze=n(688),et=n(689),tt=n(690),nt=n(691),at=n(692),it=n(693),rt=n(694),ct=n(695),ot=n(696),lt=n(697),st=n(698),ut=n(699),dt=n(700),pt=n(701),bt=n(702),ht=n(703),mt=n(704),ft=n(705),vt=n(706),gt=n(707),Ot=n(708),Et=n(709),jt=n(710),St=n(711),wt=n(712),yt=n(713),kt=n(714),Ct=n(715),Tt=n(716),xt=n(717),It=n(718),Lt=n(719),At=n(720),_t=n(721),Rt=n(722),Ut=n(723),Pt=n(724),Bt=Object.assign({},{cilAlignCenter:w.a,cilAlignLeft:y.a,cilAlignRight:k.a,cilApplicationsSettings:C.a,cilArrowRight:T.a,cilArrowTop:x.a,cilAsterisk:I.a,cilBan:L.a,cilBasket:A.a,cilBell:_.a,cilBold:R.a,cilBookmark:U.a,cilCalculator:P.a,cilCalendar:B.a,cilCloudDownload:F.a,cilChartPie:D.a,cilCheck:G.a,cilChevronBottom:N.a,cilChevronLeft:H.a,cilChevronRight:M.a,cilChevronTop:z.a,cilCircle:Q.a,cilCheckCircle:X.a,cilCode:J.a,cilCommentSquare:V.a,cilCreditCard:W.a,cilCursor:Y.a,cilCursorMove:q.a,cilDrop:$.a,cilDollar:K.a,cilEnvelopeClosed:Z.a,cilEnvelopeLetter:ee.a,cilEnvelopeOpen:te.a,cilEuro:ne.a,cilGlobeAlt:ae.a,cilGrid:ie.a,cilFile:re.a,cilFullscreen:ce.a,cilFullscreenExit:oe.a,cilGraph:le.a,cilHome:se.a,cilInbox:ue.a,cilIndentDecrease:de.a,cilIndentIncrease:pe.a,cilInputPower:be.a,cilItalic:he.a,cilJustifyCenter:me.a,cilJustifyLeft:fe.a,cilLaptop:ve.a,cilLayers:ge.a,cilLightbulb:Oe.a,cilList:Ee.a,cilListNumbered:je.a,cilListRich:Se.a,cilLocationPin:we.a,cilLockLocked:ye.a,cilMagnifyingGlass:ke.a,cilMap:Ce.a,cilMoon:Te.a,cilNotes:xe.a,cilOptions:Ie.a,cilPaperclip:Le.a,cilPaperPlane:Ae.a,cilPencil:_e.a,cilPeople:Re.a,cilPhone:Ue.a,cilPrint:Pe.a,cilPuzzle:Be.a,cilSave:Fe.a,cilScrubber:De.a,cilSettings:Ge.a,cilShare:Ne.a,cilShareAll:He.a,cilShareBoxed:Me.a,cilShieldAlt:ze.a,cilSpeech:Qe.a,cilSpeedometer:Xe.a,cilSpreadsheet:Je.a,cilStar:Ve.a,cilSun:We.a,cilTags:Ye.a,cilTask:qe.a,cilTrash:$e.a,cilUnderline:Ke.a,cilUser:Ze.a,cilUserFemale:et.a,cilUserFollow:tt.a,cilUserUnfollow:nt.a,cilX:at.a,cilXCircle:it.a,cilWarning:rt.a},{cifUs:ct.a,cifBr:ot.a,cifIn:lt.a,cifFr:st.a,cifEs:ut.a,cifPl:dt.a},{cibSkype:pt.a,cibFacebook:bt.a,cibTwitter:ht.a,cibLinkedin:mt.a,cibFlickr:ft.a,cibTumblr:vt.a,cibXing:gt.a,cibGithub:Ot.a,cibStackoverflow:Et.a,cibYoutube:jt.a,cibDribbble:St.a,cibInstagram:wt.a,cibPinterest:yt.a,cibVk:kt.a,cibYahoo:Ct.a,cibBehance:Tt.a,cibReddit:xt.a,cibVimeo:It.a,cibCcMastercard:Lt.a,cibCcVisa:At.a,cibStripe:_t.a,cibPaypal:Rt.a,cibGooglePay:Ut.a,cibCcAmex:Pt.a}),Ft=n(90),Dt=n(429),Gt=n(25),Nt=["type"],Ht={sidebarShow:"responsive"},Mt=Object(Ft.b)({sideBarState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=Object(Dt.a)(t,Nt);return"set"===n?Object(o.a)(Object(o.a)({},e),a):e},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Gt.f:case Gt.k:return Object(o.a)(Object(o.a)({},e),{},{loading:!0,isAuthenticated:!1});case Gt.c:return Object(o.a)(Object(o.a)({},e),{},{loadLoading:!0,isAuthenticated:!1});case Gt.g:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,user:t.payload,isAuthenticated:!0,loginError:{},signInError:{}});case Gt.d:return Object(o.a)(Object(o.a)({},e),{},{loadLoading:!1,user:t.payload,isAuthenticated:!0,loginError:{},signInError:{}});case Gt.l:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,user:t.payload,isAuthenticated:!1,loginError:{},signInError:{}});case Gt.b:return{loading:!1,isAuthenticated:!1,user:{},error:t.payload};case Gt.e:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,loginError:t.payload,user:null,isAuthenticated:!1});case Gt.j:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,signInError:t.payload,user:null,isAuthenticated:!1});case Gt.i:return{loading:!1,isAuthenticated:!1,user:{}};case Gt.h:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:t.payload});case Gt.a:return Object(o.a)(Object(o.a)({},e),{},{loginError:null,signInError:null});default:return e}}}),zt=n(439),Qt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ft.c,Xt=Object(Ft.d)(Mt,Qt(Object(Ft.a)(zt.a))),Jt=n(150);i.a.icons=Bt;var Vt=new Jt.QueryClient;c.a.render(Object(g.jsx)(s.a,{store:Xt,children:Object(g.jsx)(Jt.QueryClientProvider,{client:Vt,children:Object(g.jsx)(S,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},64:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var a=n(149),i=n.n(a);t.a=i.a.create({baseURL:"https://crowin-backend.herokuapp.com/api"});var r=function(e){e?i.a.defaults.headers.common["x-access-token"]=e:delete i.a.defaults.headers.common["x-access-token"]}},70:function(e,t,n){"use strict";var a=n(59),i=Object(a.a)();t.a=i}},[[598,3,4]]]);
//# sourceMappingURL=main.ac990ab8.chunk.js.map