(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[9],{731:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,c=l}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return a}))},736:function(e,t,n){"use strict";function r(e,t,n){if(!t||"object"!==typeof t||t instanceof Date||t instanceof File){var a=null==t?"":t;e.append(n,a)}else Object.keys(t).forEach((function(a){r(e,t[a],n?"".concat(n,"[").concat(a,"]"):a)}))}n.d(t,"a",(function(){return r}))},783:function(e,t,n){"use strict";n.r(t);var r=n(83),a=n.n(r),c=n(143),o=n(731),i=n(729),l=n(727),s=n(1),u=n(150),d=n(736),j=n(151),b=n(114),f=n.n(b),m=n(34);t.default=function(){var e,t=Object(u.useQuery)(["patientProfile"],j.c,{retry:1,retryDelay:500,refetchOnWindowFocus:!1,onSuccess:function(e){var t,n,r,a,c,o,i,l;v(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.firstName),g(null===e||void 0===e||null===(r=e.data)||void 0===r||null===(a=r.user)||void 0===a?void 0:a.lastName),S(null===e||void 0===e||null===(c=e.data)||void 0===c||null===(o=c.user)||void 0===o?void 0:o.phoneNumber),z(null===e||void 0===e||null===(i=e.data)||void 0===i||null===(l=i.user)||void 0===l?void 0:l.profilePicture)}}),n=(t.isLoading,t.isFetching,t.data),r=(t.isError,null===n||void 0===n||null===(e=n.data)||void 0===e?void 0:e.user),b=Object(s.useState)(""),p=Object(o.a)(b,2),h=p[0],v=p[1],O=Object(s.useState)(""),x=Object(o.a)(O,2),y=x[0],g=x[1],w=Object(s.useState)(""),C=Object(o.a)(w,2),N=C[0],S=C[1],P=Object(s.useState)(""),F=Object(o.a)(P,2),k=F[0],E=F[1],D=Object(s.useState)(""),U=Object(o.a)(D,2),A=U[0],I=U[1],L=Object(s.useState)({}),B=Object(o.a)(L,2),Q=B[0],T=B[1],J=Object(s.useState)(!1),M=Object(o.a)(J,2),R=M[0],W=(M[1],Object(s.useState)()),$=Object(o.a)(W,2),q=$[0],z=$[1],G=Object(s.useState)(),H=Object(o.a)(G,2),K=H[0],V=H[1],X=Object(u.useQueryClient)(),Y=Object(u.useMutation)(j.d,{onSuccess:function(e){f.a.fire({position:"top-end",icon:"success",title:"Profile Updated Successfully!!!",showConfirmButton:!0,timer:2e3}),X.invalidateQueries("patientProfile")},onError:function(e){var t,n;f.a.fire({position:"top-end",icon:"error",title:"Profile Updated Failed!!!",text:null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message,showConfirmButton:!0,timer:2e3})}}).mutate,Z=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=new FormData,r={firstName:h,lastName:y,phoneNumber:N,password:k,confirmPassword:A},Object(d.a)(n,r),n.append("image",q);try{Y(n)}catch(t){console.log(t)}case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){return R&&_(),function(){}}),[R]);var _=function(){var e={};return k!==A&&(e.rePassword="confirm password is not matched"),T(e),Object.keys(e).length};return Object(m.jsx)("div",{className:"c-app c-default-layout flex-row ",children:Object(m.jsx)(l.l,{children:Object(m.jsx)(l.I,{children:Object(m.jsx)(l.k,{md:"9",lg:"7",xl:"6",children:Object(m.jsx)(l.g,{className:"mx-4",children:Object(m.jsx)(l.h,{className:"p-4",children:Object(m.jsxs)(l.u,{children:[Object(m.jsx)("h1",{children:"Update Profile"}),Object(m.jsxs)(l.D,{className:"mt-3",children:[Object(m.jsx)(l.E,{children:Object(m.jsx)(l.F,{children:Object(m.jsx)(i.a,{name:"cil-user"})})}),Object(m.jsx)(l.C,{type:"text",name:"firstName",placeholder:"First Name",autoComplete:"first-name",value:h,onChange:function(e){v(null===e||void 0===e?void 0:e.target.value)}}),Object(m.jsx)(l.C,{type:"text",name:"lastName",placeholder:"Last Name",autoComplete:"last-name",value:y,onChange:function(e){g(null===e||void 0===e?void 0:e.target.value)}})]}),Object(m.jsxs)(l.D,{className:"mt-3",children:[Object(m.jsx)(l.E,{children:Object(m.jsx)(l.F,{children:Object(m.jsx)(i.a,{name:"cil-phone"})})}),Object(m.jsx)(l.C,{type:"text",name:"phoneNumber",placeholder:"Phone Number",autoComplete:"phone-number",value:N,onChange:function(e){S(null===e||void 0===e?void 0:e.target.value)}})]}),Object(m.jsxs)(l.D,{className:"mt-3",children:[Object(m.jsx)(l.E,{children:Object(m.jsx)(l.F,{children:Object(m.jsx)(i.a,{name:"cil-lock-locked"})})}),Object(m.jsx)(l.C,{name:"password",type:"password",placeholder:"New Password",value:k,autoComplete:"new-password",onChange:function(e){E(null===e||void 0===e?void 0:e.target.value)}})]}),Object(m.jsxs)(l.D,{className:"mt-4",children:[Object(m.jsx)(l.E,{children:Object(m.jsx)(l.F,{children:Object(m.jsx)(i.a,{name:"cil-lock-locked"})})}),Object(m.jsx)(l.C,{type:"password",name:"confirmPassword",placeholder:"Confirm password",autoComplete:"confirm-password",value:A,onChange:function(e){I(null===e||void 0===e?void 0:e.target.value)}})]}),Q.rePassword&&Object(m.jsx)("div",{className:"errorText",children:Q.rePassword}),Object(m.jsx)("br",{}),Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)(l.F,{htmlFor:"formFile",children:"Profile Picture"}),Object(m.jsx)(l.C,{accept:"images/*",type:"file",id:"formFile",onChange:function(e){z(e.target.files[0]),e.target.files.length>0&&V(URL.createObjectURL(e.target.files[0]))}})]}),Object(m.jsx)(l.k,{style:{marginTop:"10px"},md:12,children:Object(m.jsx)(l.B,{rounded:!0,thumbnail:!0,src:K||"http://localhost:3000/".concat(null===r||void 0===r?void 0:r.profilePicture),width:200,height:200})}),Object(m.jsx)(l.e,{className:"mt-3",onClick:Z,color:"success",block:!0,type:"button",children:"Update Profile"})]})})})})})})})}}}]);
//# sourceMappingURL=9.1120f3e8.chunk.js.map